{% extends 'reference/_index_base.html' %}

{# üìå –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ —Ç–∞ header #}
{% block title_text %}–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ –ø–æ–ª—è—Ö{% endblock %}
{% block header_text %}üåæ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ –ø–æ–ª—è—Ö{% endblock %}

{# ‚¨ÖÔ∏è –ö–Ω–æ–ø–∫–∞ –ù–∞–∑–∞–¥ –≤–µ–¥–µ –Ω–∞ –≥–æ–ª–æ–≤–Ω—É —Å—Ç—Ä—É–∫—Ç—É—Ä–∏ #}
{% block back_url %}{{ url_for('structure.index') }}{% endblock %}

{# ‚úÖ –¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –∑–∞–ª–∏—à–∞—î–º–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∏–º: ‚¨ÖÔ∏è –ù–∞–∑–∞–¥ #}

{# üîç –§–æ—Ä–º–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó #}
{% block filter_form %}
<form method="get" class="d-flex flex-wrap mb-3">
  {{ filter_form.hidden_tag() }}
  <div class="me-2">
    {{ filter_form.cluster.label }}
    {{ filter_form.cluster(class="form-select") }}
  </div>
  <div class="me-2">
    {{ filter_form.company.label }}
    {{ filter_form.company(class="form-select") }}
  </div>
  <div class="me-2">
    {{ filter_form.culture.label }}
    {{ filter_form.culture(class="form-select") }}
  </div>
  <div class="me-2 align-self-end">
    {{ filter_form.submit(class="btn btn-primary") }}
  </div>
</form>
{% endblock %}

{# ‚úÖ –ß–∏—Å—Ç–∞ —Ç–∞–±–ª–∏—Ü—è #}
{% block table_content %}
<table class="table table-bordered table-striped table-hover align-middle">
  <thead class="table-success text-center">
    <tr>
      <th class="text-center">ID</th>
      <th class="text-center">–ù–∞–∑–≤–∞ –ø–æ–ª—è</th>
      <th class="text-center">–ö–ª–∞—Å—Ç–µ—Ä</th>
      <th class="text-center">–ü—ñ–¥–ø—Ä–∏—î–º—Å—Ç–≤–æ</th>
      <th class="text-center">–ö—É–ª—å—Ç—É—Ä–∞</th>
      <th class="text-center">–ü–ª–æ—â–∞, –≥–∞</th>
    </tr>
  </thead>
  <tbody class="text-center">
    {% if items %}
      {% for field in items %}
      <tr>
        <td>{{ field.id }}</td>
        <td>{{ field.name }}</td>
        <td>{{ field.cluster.name if field.cluster else '' }}</td>
        <td>{{ field.company.name if field.company else '' }}</td>
        <td>{{ field.culture.name if field.culture else '' }}</td>
        <td>{{ field.area }}</td>
      </tr>
      {% endfor %}
      <!-- ‚úÖ –†—è–¥–æ–∫ –ø—ñ–¥—Å—É–º–∫—É -->
      <tr class="fw-bold">
        <td colspan="5" class="text-end">–†–∞–∑–æ–º:</td>
        <td>{{ "%.2f"|format(total_area) }}</td>
      </tr>
    {% else %}
      <tr>
        <td colspan="6">–î–∞–Ω–∏—Ö –Ω–µ–º–∞—î</td>
      </tr>
    {% endif %}
  </tbody>
</table>
{% endblock %}

