{% extends 'base.html' %}

{% block title %}–ó–≤–µ–¥–µ–Ω–∞ –ø–æ—Ç—Ä–µ–±–∞ –¢–ú–¶{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Ç–∞ –∫–Ω–æ–ø–∫–∏ -->
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h2 class="text-success mb-0">–ó–≤–µ–¥–µ–Ω–∞ –ø–æ—Ç—Ä–µ–±–∞ –¢–ú–¶</h2>
        <div class="d-flex gap-2">
            <a href="{{ url_for('purchases.index') }}" class="btn btn-outline-secondary btn-sm">‚¨ÖÔ∏è –ù–∞–∑–∞–¥</a>
            <a href="{{ url_for('index') }}" class="btn btn-outline-primary btn-sm">üè† –ù–∞ –≥–æ–ª–æ–≤–Ω—É</a>
        </div>
    </div>

    <!-- –§–æ—Ä–º–∞ —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó -->
    <form method="get" class="row g-2 mb-3">
        {{ form.hidden_tag() }}
        <div class="col-md-3">
            {{ form.company_id.label(class="form-label mb-1") }}
            {{ form.company_id(class="form-select form-select-sm") }}
        </div>
        <div class="col-md-3">
            {{ form.culture_id.label(class="form-label mb-1") }}
            {{ form.culture_id(class="form-select form-select-sm") }}
        </div>
        <div class="col-md-3">
            {{ form.product_id.label(class="form-label mb-1") }}
            {{ form.product_id(class="form-select form-select-sm") }}
        </div>
        <div class="col-md-3 d-flex align-items-end">
            {{ form.submit(class="btn btn-success btn-sm w-100") }}
        </div>
    </form>

    <!-- –¢–∞–±–ª–∏—Ü—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤ -->
    <table class="table table-bordered table-hover table-sm text-center align-middle">
        <thead class="table-success">
            <tr>
                <th>–ö–æ–º–ø–∞–Ω—ñ—è</th>
                <th>–ü—Ä–æ–¥—É–∫—Ç</th>
                <th>–ö—É–ª—å—Ç—É—Ä–∞</th>
                <th>–ö—ñ–ª—å–∫—ñ—Å—Ç—å</th>
                <th>–û–¥–∏–Ω–∏—Ü—è</th>
            </tr>
        </thead>
        <tbody>
            {% for row in table_data %}
            <tr>
                <td>{{ row.company }}</td>
                <td>{{ row.product }}</td>
                <td>{{ row.culture }}</td>
                <td>{{ row.quantity|round(2) }}</td>
                <td>{{ row.unit }}</td>
            </tr>
            {% else %}
            <tr>
                <td colspan="5" class="text-muted">–î–∞–Ω–∏—Ö –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
