{% extends 'reference/_index_base.html' %}

{% block title_text %}–ü—Ä–æ–¥—É–∫—Ç–∏{% endblock %}
{% block header_text %}üß™ –ü—Ä–æ–¥—É–∫—Ç–∏{% endblock %}

{% block filter_form %}
<form method="get" class="d-flex flex-wrap mb-3">
  {{ form.hidden_tag() }}
  <div class="me-2">
    {{ form.category.label }}
    {{ form.category(class="form-select") }}
  </div>
  <div class="me-2">
    {{ form.group.label }}
    {{ form.group(class="form-select") }}
  </div>
  <div class="me-2">
    {{ form.manufacturer.label }}
    {{ form.manufacturer(class="form-select") }}
  </div>
  <div class="me-2 align-self-end">
    {{ form.submit(class="btn btn-primary") }}
  </div>
</form>
{% endblock %}

{% block table_headers %}
  <th>ID</th>
  <th>–ù–∞–∑–≤–∞</th>
  <th>–ö–∞—Ç–µ–≥–æ—Ä—ñ—è</th>
  <th>–ì—Ä—É–ø–∞</th>
  <th>–í–∏—Ä–æ–±–Ω–∏–∫</th>
  <th>–î—ñ—ó</th>
{% endblock %}

{% block table_rows %}
  {% for product in items %}
  <tr>
    <td>{{ product.id }}</td>
    <td>{{ product.name }}</td>
    <td>{{ product.category.name if product.category else '‚Äî' }}</td>
    <td>{{ product.group.name if product.group else '‚Äî' }}</td>
    <td>{{ product.manufacturer.name if product.manufacturer else '‚Äî' }}</td>
    <td>
      <a href="{{ url_for('products.edit', id=product.id) }}" class="btn btn-sm btn-primary">‚úèÔ∏è</a>
      <form action="{{ url_for('products.delete', id=product.id) }}" method="post" style="display:inline-block;" onsubmit="return confirm('–í–∏ –≤–ø–µ–≤–Ω–µ–Ω—ñ?')">
        <button type="submit" class="btn btn-sm btn-danger">üóëÔ∏è</button>
      </form>
    </td>
  </tr>
  {% else %}
  <tr>
    <td colspan="6">–î–∞–Ω–∏—Ö –Ω–µ–º–∞—î</td>
  </tr>
  {% endfor %}
{% endblock %}
